prompt_template = "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n"
prompt_template += "\n"
prompt_template += "Cutting Knowledge Date: December 2023\n"
prompt_template += "Today Date: March 4 2025\n"
prompt_template += "\n"
prompt_template += "You are an expert linux driver developer.<|eot_id|><|start_header_id|>user<|end_header_id|>\n"
prompt_template += "\n"
prompt_template += f"Consider the following github diff format.\n"
prompt_template += "============ Diff format ============\n"
prompt_template += "```diff\n"
prompt_template += "diff --git a/file1 b/file2\n"
prompt_template += "index 1234567..89abcdef 100644\n"
prompt_template += "--- a/file1\n"
prompt_template += "+++ b/file2\n"
prompt_template += "@@ -1,3 +1,3 @@\n"
prompt_template += "-old line\n"
prompt_template += "+new line\n"
prompt_template += "```"
prompt_template += "====================================\n"
prompt_template += "Read through the following source code carefully.\n"
prompt_template += "============ Source Code ============\n"
prompt_template += "File: {source_code_path}\n"
prompt_template += "Line: {line_number}\n"
prompt_template += "{code}"
prompt_template += "====================================\n"
prompt_template += "Read the following bug report.\n"
prompt_template += "============ Bug Report ============\n"
prompt_template += "{bug_report_text}"
prompt_template += "====================================\n"
prompt_template += "Based on the source code and the bug report, write a diff that fixes the bug.\n"
prompt_template += "Use github diff format.\n"
prompt_template += "Don't explain your diff, answer directly with the diff.\n"
prompt_template += "<|eot_id|><|start_header_id|>assistant<|end_header_id|>"
