diff --git a/drivers/gpu/drm/amd/amdgpu_cs.c b/drivers/gpu/drm/amd/amdgpu_cs.c
index af43fd5..6dfdff5 100644
--- a/drivers/gpu/drm/amd/amdgpu_cs.c
+++ b/drivers/gpu/drm/amd/amdgpu_cs.c
@@ -215,6 +215,7 @@ static int amdgpu_cs_pass1(struct amdgpu_cs_parser *p,
                if (copy_from_user(&user_chunk, chunk_ptr,
                                       sizeof(struct drm_amdgpu_cs_chunk))) {
                        ret = -EFAULT;
+                       i--;
                        goto free_partial_kdata;
                }
                p->chunks[i].chunk_id = user_chunk.chunk_id;
